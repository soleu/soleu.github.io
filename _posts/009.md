## 3. 스프링 핵심 원리 이해 2 - IoC, DI, Container

- #### 제어의 역전 IoC(Inversion of Control)

  : 기존 프로그램은 클라이언트 **구현 객체가 스스로 필요한 서버 구현 객체를 생성, 연결, 실행**했다.

  반면 `AppConfig`를 사용한 이후에는 **구현 객체는 자신의 로직을 실행**하는 역할만 담당.

  -> 프로그램 제어 흐름 관리 : `AppConfig`

  ###### => "프로그램의 제어 흐름을 직접 제어하는 것이 아니라 외부에서 관리하는 것"


- #### 의존관계 주입 DI(Dependency Injection)

  : `OrderServiceImpl` 은 `DiscountPolicy` 인터페이스에 의존. 실제 어떤 구현 객체 사용.

  ![img](file:///C:/Users/dlthf/OneDrive/%EB%B0%94%ED%83%95%20%ED%99%94%EB%A9%B4/%EC%BA%A1%EC%B2%98.PNG?lastModify=1629660109)

  ![캡처1](../../../캡처1.PNG)

  - **의존 관계 주입(DI)** : 애플리케이션 **실행 시점(런타임)**에 외부에서 실제 구현 객체를 생성하고, 클라이언트에 전달해서 **클라이언트와 서버의 실제 의존관계가 연결** 되는 것

  - 장점 

    - 클라이언트 코드를 변경하지 않고, 클라이언트가 호출하는 대상의 타입 인스턴스를 변경할 수 있음

    - 정적인 클래스 의존관계를 변경하지 않고, 동적인 객체 인스턴스 의존관계를 쉽게 변경할 수 있음

      ​

- #### IoC 컨테이너(Container), DI 컨테이너

  - `AppConfig`처럼 객체를 생성하고 관리하면서 의존관계를 연결해 주는 것을 IoC컨테이너 또는 **DI 컨테이너**라 칭함.
  - 또는 어샘블러, 오브젝트 팩토리 등으로 불리기도 함.